
if (selected && dragging)
{
    x = mouse_x - drag_x;
    y = mouse_y - drag_y;
}
